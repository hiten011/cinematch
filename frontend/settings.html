<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Linking External Files -->

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cantarell:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Caudex:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

    <!-- Linking CSS Files -->
    <link rel="stylesheet" href="stylesheets/index.css">
    <link rel="stylesheet" href="stylesheets/settings.css">

    <!-- Linking Java Script Files -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="javascripts/index.js" defer></script>
    <script src="javascripts/settings.js" defer></script>

    <title>Home Page</title>
</head>

<body id="settings" style="display: none">
    <div class="page-layout">

        <!--sidebar-->
        <div class="sidebar">
            <div class="sidebar-icon">
                <img src="images/account-settings.svg" alt="Account">
            </div>
            <div class="sidebar-icon">
                <img src="images/profile-settings.svg" alt="Profile">
            </div>
            <div class="sidebar-icon">
                <img src="images/pref-settings.svg" alt="Preferences">
            </div>
            <div class="sidebar-icon logout">
                <img src="images/logout-settings.svg" alt="Logout">
            </div>
        </div>

        <div class="container">

            <!--account-->
            <h1>Account Settings</h1>
            <div class="row">
                <div class="card change-name">
                    <h2 class="card-title">Change name</h2>
                    <p class="info-text">Current name: <span>Josheen Kour</span></p>
                    <input type="text" placeholder="Enter new first name...">
                    <input type="text" placeholder="Enter new last name...">
                    <input type="password" placeholder="Enter your password...">
                    <button type="button" class="confirm">Done</button>
                </div>

                <div class="card change-password">
                    <h2 class="card-title">Change password</h2>
                    <input type="password" placeholder="Enter old password...">
                    <input type="password" v-model="newPass" placeholder="Enter new password...">
                    <input type="password" v-model="confirmPass" placeholder="Confirm new password...">
                    <p class="error-message" v-if="!passMatch">Passwords do not match</p>
                    <button type="button" class="confirm">Done</button>
                </div>
            </div>

            <div class="row">
                <div class="card delete-account">
                    <h2 class="card-title">Delete account</h2>
                    <p class="info-text">IMPORTANT!<br>
                        This action cannot be undone</p>
                    <input type="password" placeholder="Enter your password...">
                    <button type="button" class="confirm">Done</button>
                </div>

                <div class="card password-check">
                    <h2 class="card-title">Password check</h2>
                    <p class="info-text">Your new password must have :</p>
                    <div class="req-tags">
                        <span :class="{ valid: passReq.length, invalid: !passReq.length }">8 - 16 characters</span>
                        <span :class="{ valid: passReq.uppercase, invalid: !passReq.uppercase }">at least 1 UPPERCASE character</span>
                        <span :class="{ valid: passReq.lowercase, invalid: !passReq.lowercase }">at least 1 lowercase character</span>
                        <span :class="{ valid: passReq.number, invalid: !passReq.number }">at least 1 number</span>
                        <span :class="{ valid: passReq.noSpaces, invalid: !passReq.noSpaces }">no empty space or period</span>
                        <span :class="{ valid: passReq.special, invalid: !passReq.special }">at least 1 special character</span>
                    </div>
                </div>
            </div>

            <!--profile-->
            <h1>Profile Settings</h1>
            <div class="select-avatar">
                <div class="av-row">
                    <div class="slot empty"></div>
                    <div class="slot empty large"></div>
                    <div class="slot selected">
                        <img src="images/avatar1.svg" alt="Avatar1">
                    </div>
                    <div class="slot empty large"></div>
                    <div class="slot empty"></div>
                </div>

                <div class="av-controls">
                    <button type="button" class="av-button prev"></button>
                    <button type="button" class="select-button">Select this avatar</button>
                    <button type="button" class="av-button next"></button>
                </div>
            </div>

            <div class="upload-avatar">
                <button type="button" class="upload-button">Upload my own</button>
                <div class="preview">
                    <div class="preview-av">
                        <img src="images/dummy-upload.svg" alt="Preview Avatar">
                    </div>
                    <p>Preview</p>
                </div>
            </div>

            <!--preferences-->
            <h1>Preferences</h1>
            <div class="preferences">

                <!--theme-->
                <div class="dropdown">
                    <div class="d-placeholder" @click="toggleDropdown('theme')">
                        <span>Change theme</span>
                        <span class="d-arrow" :class="{ open: dropdowns.theme }">▼</span>
                    </div>
                    <div class="d-content" :class="{ show: dropdowns.theme }">
                        <div class="d-option" @click="selectTheme('light')">
                            <div class="checkbox circle" :class="{ checked: selectedTheme === 'light' }"></div>
                            <span class="option-text">Light theme</span>
                        </div>
                        <div class="d-option" @click="selectTheme('dark')">
                            <div class="checkbox circle" :class="{ checked: selectedTheme === 'dark' }"></div>
                            <span class="option-text">Dark theme</span>
                        </div>
                    </div>
                </div>

                <!--lang-->
                <div class="dropdown">
                    <div class="d-placeholder" @click="toggleDropdown('languages')">
                        <span>Search movie languages</span>
                        <span class="d-arrow" :class="{ open: dropdowns.languages }">▼</span>
                    </div>
                    <div class="d-content" :class="{ show: dropdowns.languages }">
                        <div class="d-option" v-for="language in languages" :key="language.id" @click="toggleLanguage(language.id)">
                            <div class="checkbox" :class="{ checked: language.selected }"></div>
                            <span class="option-text">{{ language.name }}</span>
                        </div>
                    </div>
                </div>

                <!--genre-->
                <div class="dropdown">
                    <div class="d-placeholder" @click="toggleDropdown('genres')">
                        <span>Search movie genres</span>
                        <span class="d-arrow" :class="{ open: dropdowns.genres }">▼</span>
                    </div>
                    <div class="d-content" :class="{ show: dropdowns.genres }">
                        <div class="d-option" v-for="genre in genres" :key="genre.id" :class="{ selected: genre.selected }" @click="toggleGenre(genre.id)">
                            <div class="checkbox" :class="{ checked: genre.selected }"></div>
                            <span class="option-text">{{ genre.name }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
